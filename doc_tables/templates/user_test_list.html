{% extends 'base.html' %}
{% load navistar_tags %}
{% block content %}
<div style="overflow:auto;max-width:100vw;margin:30px auto;">
    <table>
        <thead>
        <tr>
            <td colspan="2">Пользователь</td>
            <td>Правильных ответов</td>
            <td>%</td>
            <td>Дата</td>
        </tr>
        </thead>
        <tbody>
        {% for i in users %}
        <tr>
            <td colspan="2" title="Зарегистрирован: {{ i.user.date_joined }}">{{ i.user.first_name }} {{ i.user.last_name }}</td>
            <td>{{ i.right_answer }} из {{ i.count_answer }}</td>
            <td>{{ i.percentTest }}</td>
            <td>{{ i.date_end }}</td>
        </tr>
        {% for j in test|returnChildrenTest:i.user %}
        <tr style="background-color:#dadada;">
            <td>---</td>
            <td>{{ j.test.name }}</td>
            <td>{{ j.right_answer }} из {{ j.count_answer }}</td>
            <td>{{ j.percentTest }}</td>
            <td>{{ j.date_end }}</td>
        </tr>
        {% endfor %}
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}